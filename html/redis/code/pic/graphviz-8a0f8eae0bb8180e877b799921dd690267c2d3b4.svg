<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.36.0 (20140111.2315)
 -->
<!-- Title: enqueue Pages: 1 -->
<svg width="443pt" height="282pt"
 viewBox="0.00 0.00 443.00 282.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 278)">
<title>enqueue</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-278 439,-278 439,4 -4,4"/>
<!-- command_in -->
<g id="node1" class="node"><title>command_in</title>
<polygon fill="lightgrey" stroke="none" points="339,-274 137,-274 137,-238 339,-238 339,-274"/>
<text text-anchor="middle" x="238" y="-252.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">服务器接到来自客户端的命令</text>
</g>
<!-- in_transaction_or_not -->
<g id="node2" class="node"><title>in_transaction_or_not</title>
<polygon fill="#95bbe3" stroke="black" points="238,-200 52.4955,-182 238,-164 423.504,-182 238,-200"/>
<text text-anchor="middle" x="238" y="-178.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">客户端是否正处于事务状态？</text>
</g>
<!-- command_in&#45;&gt;in_transaction_or_not -->
<g id="edge1" class="edge"><title>command_in&#45;&gt;in_transaction_or_not</title>
<path fill="none" stroke="black" stroke-width="2" d="M238,-237.937C238,-229.807 238,-219.876 238,-210.705"/>
<polygon fill="black" stroke="black" stroke-width="2" points="241.5,-210.441 238,-200.441 234.5,-210.441 241.5,-210.441"/>
</g>
<!-- enqueu_command -->
<g id="node3" class="node"><title>enqueu_command</title>
<polygon fill="#a8e270" stroke="none" points="209.25,-112 50.75,-112 50.75,-76 209.25,-76 209.25,-112"/>
<text text-anchor="middle" x="130" y="-90.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">将命令放进事务队列里</text>
</g>
<!-- in_transaction_or_not&#45;&gt;enqueu_command -->
<g id="edge2" class="edge"><title>in_transaction_or_not&#45;&gt;enqueu_command</title>
<path fill="none" stroke="black" stroke-width="2" d="M218.94,-165.823C202.482,-152.717 178.436,-133.569 159.495,-118.487"/>
<polygon fill="black" stroke="black" stroke-width="2" points="161.465,-115.582 151.462,-112.09 157.105,-121.058 161.465,-115.582"/>
<text text-anchor="middle" x="201.5" y="-134.3" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- exec_command -->
<g id="node5" class="node"><title>exec_command</title>
<polygon fill="#fadcad" stroke="none" points="348,-112 274,-112 274,-76 348,-76 348,-112"/>
<text text-anchor="middle" x="311" y="-90.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">执行命令</text>
</g>
<!-- in_transaction_or_not&#45;&gt;exec_command -->
<g id="edge3" class="edge"><title>in_transaction_or_not&#45;&gt;exec_command</title>
<path fill="none" stroke="black" stroke-width="2" d="M251.389,-165.226C262.156,-152.543 277.479,-134.491 289.894,-119.865"/>
<polygon fill="black" stroke="black" stroke-width="2" points="292.641,-122.037 296.444,-112.148 287.304,-117.507 292.641,-122.037"/>
<text text-anchor="middle" x="289.5" y="-134.3" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- return_enqueued -->
<g id="node4" class="node"><title>return_enqueued</title>
<polygon fill="#a8e270" stroke="none" points="214.25,-38 -0.25,-38 -0.25,-0 214.25,-0 214.25,-38"/>
<text text-anchor="middle" x="107" y="-22.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">向客户端返回 QUEUED 字符串</text>
<text text-anchor="middle" x="107" y="-7.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">表示命令已入队</text>
</g>
<!-- enqueu_command&#45;&gt;return_enqueued -->
<g id="edge5" class="edge"><title>enqueu_command&#45;&gt;return_enqueued</title>
<path fill="none" stroke="black" stroke-width="2" d="M124.549,-75.7C121.935,-67.402 118.737,-57.253 115.791,-47.9023"/>
<polygon fill="black" stroke="black" stroke-width="2" points="119.076,-46.6805 112.733,-38.1945 112.399,-48.7841 119.076,-46.6805"/>
</g>
<!-- return_command_result -->
<g id="node6" class="node"><title>return_command_result</title>
<polygon fill="#fadcad" stroke="none" points="435,-37 233,-37 233,-1 435,-1 435,-37"/>
<text text-anchor="middle" x="334" y="-15.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">向客户端返回命令的执行结果</text>
</g>
<!-- exec_command&#45;&gt;return_command_result -->
<g id="edge4" class="edge"><title>exec_command&#45;&gt;return_command_result</title>
<path fill="none" stroke="black" stroke-width="2" d="M316.451,-75.7C319.172,-67.0633 322.525,-56.4217 325.568,-46.7618"/>
<polygon fill="black" stroke="black" stroke-width="2" points="328.922,-47.7654 328.588,-37.1758 322.245,-45.6618 328.922,-47.7654"/>
</g>
</g>
</svg>
