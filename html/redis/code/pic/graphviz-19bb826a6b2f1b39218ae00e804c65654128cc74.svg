<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.36.0 (20140111.2315)
 -->
<!-- Title: command_poly Pages: 1 -->
<svg width="466pt" height="588pt"
 viewBox="0.00 0.00 466.00 588.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 584)">
<title>command_poly</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-584 462,-584 462,4 -4,4"/>
<!-- lpop -->
<g id="node1" class="node"><title>lpop</title>
<polygon fill="#a8e270" stroke="none" points="190.25,-580 107.75,-580 107.75,-544 190.25,-544 190.25,-580"/>
<text text-anchor="middle" x="149" y="-558.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">LPOP key</text>
</g>
<!-- get_key_obj_from_db -->
<g id="node2" class="node"><title>get_key_obj_from_db</title>
<polygon fill="lightgrey" stroke="none" points="244,-506 54,-506 54,-468 244,-468 244,-506"/>
<text text-anchor="middle" x="149" y="-490.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">Redis 从数据库中查找 key </text>
<text text-anchor="middle" x="149" y="-475.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">对应的 redisObject 结构</text>
</g>
<!-- lpop&#45;&gt;get_key_obj_from_db -->
<g id="edge1" class="edge"><title>lpop&#45;&gt;get_key_obj_from_db</title>
<path fill="none" stroke="black" stroke-width="2" d="M149,-543.7C149,-535.49 149,-525.469 149,-516.201"/>
<polygon fill="black" stroke="black" stroke-width="2" points="152.5,-516.194 149,-506.194 145.5,-516.195 152.5,-516.194"/>
</g>
<!-- is_obj_nil_or_not -->
<g id="node3" class="node"><title>is_obj_nil_or_not</title>
<polygon fill="#95bbe3" stroke="black" points="149,-430 12.5682,-412 149,-394 285.432,-412 149,-430"/>
<text text-anchor="middle" x="149" y="-408.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">数据库返回 NULL ？</text>
</g>
<!-- get_key_obj_from_db&#45;&gt;is_obj_nil_or_not -->
<g id="edge2" class="edge"><title>get_key_obj_from_db&#45;&gt;is_obj_nil_or_not</title>
<path fill="none" stroke="black" stroke-width="2" d="M149,-467.955C149,-459.701 149,-449.738 149,-440.574"/>
<polygon fill="black" stroke="black" stroke-width="2" points="152.5,-440.335 149,-430.335 145.5,-440.335 152.5,-440.335"/>
</g>
<!-- return_nil -->
<g id="node4" class="node"><title>return_nil</title>
<polygon fill="lightgrey" stroke="none" points="129.5,-323 42.5,-323 42.5,-285 129.5,-285 129.5,-323"/>
<text text-anchor="middle" x="86" y="-307.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">key 不存在</text>
<text text-anchor="middle" x="86" y="-292.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">返回空回复</text>
</g>
<!-- is_obj_nil_or_not&#45;&gt;return_nil -->
<g id="edge3" class="edge"><title>is_obj_nil_or_not&#45;&gt;return_nil</title>
<path fill="none" stroke="black" stroke-width="2" d="M139.432,-394.901C129.462,-378.126 113.673,-351.56 101.839,-331.649"/>
<polygon fill="black" stroke="black" stroke-width="2" points="104.833,-329.836 96.715,-323.028 98.8154,-333.413 104.833,-329.836"/>
<text text-anchor="middle" x="134.5" y="-364.3" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- is_type_list_or_not -->
<g id="node5" class="node"><title>is_type_list_or_not</title>
<polygon fill="#95bbe3" stroke="black" points="303,-342 148,-304 303,-266 458,-304 303,-342"/>
<text text-anchor="middle" x="303" y="-307.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">redisObject 的类型为</text>
<text text-anchor="middle" x="303" y="-292.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">REDIS_LIST ？</text>
</g>
<!-- is_obj_nil_or_not&#45;&gt;is_type_list_or_not -->
<g id="edge4" class="edge"><title>is_obj_nil_or_not&#45;&gt;is_type_list_or_not</title>
<path fill="none" stroke="black" stroke-width="2" d="M169.769,-396.704C191.514,-381.737 226.414,-357.715 255.039,-338.012"/>
<polygon fill="black" stroke="black" stroke-width="2" points="257.062,-340.869 263.315,-332.316 253.093,-335.103 257.062,-340.869"/>
<text text-anchor="middle" x="228.5" y="-364.3" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- call_poly_pop_function -->
<g id="node6" class="node"><title>call_poly_pop_function</title>
<polygon fill="#95bbe3" stroke="black" points="167,-213 41.9919,-195 167,-177 292.008,-195 167,-213"/>
<text text-anchor="middle" x="167" y="-191.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">调用多态 pop 函数</text>
</g>
<!-- is_type_list_or_not&#45;&gt;call_poly_pop_function -->
<g id="edge5" class="edge"><title>is_type_list_or_not&#45;&gt;call_poly_pop_function</title>
<path fill="none" stroke="black" stroke-width="2" d="M266.912,-274.607C243.811,-256.432 214.356,-233.258 193.427,-216.792"/>
<polygon fill="black" stroke="black" stroke-width="2" points="195.324,-213.831 185.301,-210.398 190.996,-219.332 195.324,-213.831"/>
<text text-anchor="middle" x="237.5" y="-236.3" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- return_type_error -->
<g id="node7" class="node"><title>return_type_error</title>
<polygon fill="lightgrey" stroke="none" points="411.5,-214 310.5,-214 310.5,-176 411.5,-176 411.5,-214"/>
<text text-anchor="middle" x="361" y="-198.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">key 不是列表</text>
<text text-anchor="middle" x="361" y="-183.8" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">返回类型错误</text>
</g>
<!-- is_type_list_or_not&#45;&gt;return_type_error -->
<g id="edge6" class="edge"><title>is_type_list_or_not&#45;&gt;return_type_error</title>
<path fill="none" stroke="black" stroke-width="2" d="M320.717,-270.315C328.915,-255.191 338.539,-237.437 346.324,-223.075"/>
<polygon fill="black" stroke="black" stroke-width="2" points="349.452,-224.648 351.141,-214.189 343.298,-221.313 349.452,-224.648"/>
<text text-anchor="middle" x="347.5" y="-236.3" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- pop_from_ziplist -->
<g id="node8" class="node"><title>pop_from_ziplist</title>
<polygon fill="lightgrey" stroke="none" points="180,-110 0,-110 0,-74 180,-74 180,-110"/>
<text text-anchor="middle" x="90" y="-88.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">从 ziplist 中弹出最左节点</text>
</g>
<!-- call_poly_pop_function&#45;&gt;pop_from_ziplist -->
<g id="edge7" class="edge"><title>call_poly_pop_function&#45;&gt;pop_from_ziplist</title>
<path fill="none" stroke="black" stroke-width="2" d="M155.305,-178.66C143.065,-162.605 123.648,-137.136 109.163,-118.136"/>
<polygon fill="black" stroke="black" stroke-width="2" points="111.942,-116.008 103.096,-110.178 106.376,-120.252 111.942,-116.008"/>
<text text-anchor="middle" x="181" y="-146.8" font-family="Times,serif" font-size="14.00">对象的编码为</text>
<text text-anchor="middle" x="181" y="-131.8" font-family="Times,serif" font-size="14.00">ZIPLIST</text>
</g>
<!-- pop_from_linkedlist -->
<g id="node9" class="node"><title>pop_from_linkedlist</title>
<polygon fill="lightgrey" stroke="none" points="386,-110 198,-110 198,-74 386,-74 386,-110"/>
<text text-anchor="middle" x="292" y="-88.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">从双端链表中弹出最左节点</text>
</g>
<!-- call_poly_pop_function&#45;&gt;pop_from_linkedlist -->
<g id="edge8" class="edge"><title>call_poly_pop_function&#45;&gt;pop_from_linkedlist</title>
<path fill="none" stroke="black" stroke-width="2" d="M192.887,-180.691C204.114,-174.429 217.146,-166.479 228,-158 243.296,-146.051 258.615,-130.645 270.43,-117.831"/>
<polygon fill="black" stroke="black" stroke-width="2" points="273.184,-120.003 277.301,-110.241 267.995,-115.305 273.184,-120.003"/>
<text text-anchor="middle" x="302" y="-146.8" font-family="Times,serif" font-size="14.00">对象的编码为</text>
<text text-anchor="middle" x="302" y="-131.8" font-family="Times,serif" font-size="14.00">LINKEDLIST</text>
</g>
<!-- return_pop_item -->
<g id="node10" class="node"><title>return_pop_item</title>
<polygon fill="lightgrey" stroke="none" points="277.25,-36 146.75,-36 146.75,-0 277.25,-0 277.25,-36"/>
<text text-anchor="middle" x="212" y="-14.3" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">返回被弹出的元素</text>
</g>
<!-- pop_from_ziplist&#45;&gt;return_pop_item -->
<g id="edge9" class="edge"><title>pop_from_ziplist&#45;&gt;return_pop_item</title>
<path fill="none" stroke="black" stroke-width="2" d="M118.912,-73.937C135.353,-64.2341 156.142,-51.9655 173.901,-41.4848"/>
<polygon fill="black" stroke="black" stroke-width="2" points="176.039,-44.2868 182.872,-36.19 172.481,-38.2584 176.039,-44.2868"/>
</g>
<!-- pop_from_linkedlist&#45;&gt;return_pop_item -->
<g id="edge10" class="edge"><title>pop_from_linkedlist&#45;&gt;return_pop_item</title>
<path fill="none" stroke="black" stroke-width="2" d="M273.041,-73.937C262.755,-64.6792 249.873,-53.0857 238.598,-42.9379"/>
<polygon fill="black" stroke="black" stroke-width="2" points="240.874,-40.2782 231.1,-36.19 236.192,-45.4813 240.874,-40.2782"/>
</g>
</g>
</svg>
