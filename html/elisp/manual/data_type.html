<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>2 数据类型</title>
<meta name="author" content="Wu, Shanliang" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="css/main.css" />
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="introduction.html"> UP </a>
 |
 <a accesskey="H" href="manual.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">2 数据类型</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org70a7f20">打印表示和读取语法</a></li>
<li><a href="#orga80883f">特殊读语法</a></li>
<li><a href="#orgfc0f7d4">注释</a></li>
<li><a href="#orgab104f1">编程类型</a>
<ul>
<li><a href="#org16bcda3">整数类型</a>
<ul>
<li><a href="#org65d7fdb">读取语法</a></li>
</ul>
</li>
<li><a href="#org1545a98">浮点型</a></li>
<li><a href="#orgcbc2fd1">字符类型</a>
<ul>
<li><a href="#org1569156">基本字符语法</a></li>
<li><a href="#orga7e53ff">通用转义语法</a></li>
<li><a href="#org2df9030">控制字符语法</a></li>
<li><a href="#orgca7ddda">元字符语法</a></li>
<li><a href="#orga02cfd4">其他字符修饰符位</a></li>
</ul>
</li>
<li><a href="#org3f490e2">符号类型</a></li>
<li><a href="#org2746e87">序列类型</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
Lisp 对象是 Lisp 程序使用和操作的一段数据。对于我们的目的，类型或 <span class="underline">数据类型</span> 是一组可能的对象：
</p>
<ul class="org-ul">
<li>每个对象至少属于一种类型</li>
<li>相同类型的对象具有相似的结构，通常可以在相同的上下文中使用</li>
<li><p>
类型可以重叠，对象可以属于两种或多种类型
</p>
<pre class="example" id="org1a10340">
因此，我们可以询问对象是否属于特定类型，但不能询问对象的类型
</pre></li>
</ul>
<p>
Emacs 中内置了一些 <span class="underline">基本的对象类型</span> 。这些，所有其他类型的构造，被称为 <b>原始类型</b> 。每个对象都属于一种且仅一种原始类型：
</p>
<ul class="org-ul">
<li><p>
这些类型包括 <span class="underline">integer</span>  、 <span class="underline">float</span>  、 <span class="underline">cons</span> 、 <span class="underline">symbol</span> 、 <span class="underline">string</span> 、 <span class="underline">vector</span> 、 <span class="underline">hash-table</span> 、 <span class="underline">subr</span> 、 <span class="underline">byte-code function</span> 和 <span class="underline">record</span> ，以及与 <b>编辑</b> 相关的几种特殊类型，如 <span class="underline">缓冲区</span>
</p>
<pre class="example" id="org31a1aa2">
请参阅编辑类型
</pre></li>
<li>每个原始类型都有一个相应的 Lisp 函数，用于 <b>检查</b> 对象是否是该类型的成员</li>
</ul>

<p>
Lisp 与许多其他语言的不同之处在于它的对象是 <span class="underline">自类型化</span> 的：每个对象的原始类型都 <b>隐含</b> 在对象本身中
</p>

<pre class="example" id="org10f00dd">
例如，如果一个对象是一个向量，那么没有任何东西可以将它视为一个数字

Lisp 知道它是一个向量，而不是一个数字
</pre>

<pre class="example" id="org1e5a67e">
在大多数语言中，程序员必须声明每个变量的数据类型，并且类型是编译器知道的，但不会在数据中表示出来
</pre>

<p>
Emacs Lisp 中不存在这样的类型声明。Lisp 变量可以具有任何类型的值，并且它会记住您存储在其中的任何值，类型和所有内容
</p>

<pre class="example" id="org4cc0a7e">
实际上，少数 Emacs Lisp 变量只能接受某种类型的值。请参阅带限制值的变量
</pre>

<p>
本章描述了 GNU Emacs Lisp 中每种标准类型的用途、打印表示和阅读语法。关于如何使用这些类型的详细信息可以在后面的章节中找到
</p>

<div id="outline-container-org70a7f20" class="outline-2">
<h2 id="org70a7f20">打印表示和读取语法</h2>
<div class="outline-text-2" id="text-org70a7f20">
<ul class="org-ul">
<li>对象的 <span class="underline">打印表示</span> 是 Lisp 函数 <span class="underline">print</span> 为该对象生成的 <b>输出格式</b> ，每种数据类型都有 <b>唯一的</b> 打印表示</li>
<li>对象的 <span class="underline">读取语法</span> 是 Lisp 函数 <span class="underline">read</span> 为该对象接受的 <b>输入格式</b> 。这不一定是唯一的； 许多种类的对象有 <b>不止一种</b> 语法</li>
</ul>

<p>
在大多数情况下，对象的打印表示也是对象的读取语法。然而，有些类型 <b>没有读语法</b> ，因为在 Lisp 程序中将这些类型的对象 <b>作为常量输入是没有意义的</b> 。这些对象以 <span class="underline">散列符号</span> 打印，由字符 <span class="underline">#&lt;</span> 、 <span class="underline">描述性字符串</span> （通常是类型名称后跟对象名称）和结束符号 <span class="underline">&gt;</span> 组成。例如：
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">)</span>
&#8658; #&lt;buffer objects.texi&gt;
</pre>
</div>

<p>
哈希表示法根本无法读取，因此 Lisp 阅读器在遇到 <span class="underline">#&lt;</span> 时会发出错误无效读取语法的信号
</p>

<pre class="example" id="org51c86ca">
在其他语言中，表达式是文本； 它没有其他形式 
</pre>

<p>
在 Lisp 中， <span class="underline">表达式</span> 主要是 <b>Lisp 对象</b> ，其次是作为 <b>对象读取语法的文本</b>
</p>
<pre class="example" id="org4c82163">
很多时候不需要强调这个区别，但是一定要放在脑后，不然偶尔会很迷茫
</pre>

<p>
当以交互方式执行表达式时，Lisp 解释器：
</p>
<ol class="org-ol">
<li>首先读取它的文本表示，生成一个 Lisp 对象</li>
<li>然后 eval 该对象</li>
</ol>

<pre class="example" id="orgd134d39">
但是，eval 和 read 是不同的活动

Read 返回所读文本所代表的 Lisp 对象； 该对象以后可能会或可能不会被 eval

有关读取的描述，请参阅输入函数，读取对象的基本函数
</pre>
</div>
</div>

<div id="outline-container-orga80883f" class="outline-2">
<h2 id="orga80883f">特殊读语法</h2>
<div class="outline-text-2" id="text-orga80883f">
<p>
Emacs Lisp 通过 <span class="underline">特殊的散列符号</span> 表示许多特殊的对象和结构：
</p>
<ul class="org-ul">
<li><p>
没有读取语法的对象
</p>
<pre class="example" id="orgb11dcb7">
‘#&lt;…&gt;’
</pre></li>
<li><p>
名称为 <span class="underline">空字符串的内部符号</span> 的打印表示形式
</p>
<pre class="example" id="orgb6b6789">
‘##’
</pre></li>
<li><p>
函数的快捷方式  
</p>
<pre class="example" id="orgdcbe77d">
‘#'’
</pre></li>
<li><p>
名称为 foo 的非内部符号的打印表示是 '#:foo'
</p>
<pre class="example" id="orgade3fcb">
‘#:’
</pre></li>
<li><p>
打印循环结构时，此构造用于表示结构循环回到自身的位置，'N' 是起始列表计数：
</p>
<pre class="example" id="org087ef44">
‘#N’
</pre></li>
<li><p>
'#N=' 给出对象的名称，而 '#N#' 表示该对象，因此在读回对象时，它们将是同一个对象而不是副本：
</p>
<pre class="example" id="orge82d836">
(let ((a (list 1)))
  (setcdr a a))
=&gt; (1 . #0)

‘#N=’
‘#N#’
</pre></li>
<li><p>
'N' 表示为十六进制数 ('#x2a')
</p>
<pre class="example" id="org0933b70">
‘#xN’
</pre></li>
<li><p>
'N' 表示为八进制数 ('#o52')
</p>
<pre class="example" id="orgab6716d">
‘#bN’
</pre></li>
<li><p>
'N' 表示为二进制数 ('#b101010')
</p>
<pre class="example" id="org1ea2b43">
‘#bN’
</pre></li>
<li><p>
字符串文本属性
</p>
<pre class="example" id="org769c80e">
‘#(…)’
</pre></li>
<li><p>
字符表
</p>
<pre class="example" id="orgc795caf">
‘#^’
</pre></li>
<li><p>
哈希表
</p>
<pre class="example" id="org37f53e8">
‘#s(hash-table …)’
</pre></li>
<li><p>
字符
</p>
<pre class="example" id="orgd0dbb02">
‘?C’
</pre></li>
<li><p>
字节编译文件中的当前文件名
</p>
<pre class="example" id="org564522c">
‘#$’

请参阅文档字符串和编译
</pre></li>
<li><p>
跳过接下来的 N 个字符
</p>
<pre class="example" id="org7b3d360">
‘#@N’

这在字节编译文件中使用，并不意味着在 Emacs Lisp 源文件中使用
</pre></li>
</ul>
</div>
</div>
<div id="outline-container-orgfc0f7d4" class="outline-2">
<h2 id="orgfc0f7d4">注释</h2>
<div class="outline-text-2" id="text-orgfc0f7d4">
<p>
注释是写在程序中的文本，仅供阅读程序的人使用，对程序的含义没有影响：
</p>
<ul class="org-ul">
<li>在 Lisp 中，如果未转义的分号 <span class="underline">;</span>  不在字符串或字符常量内，则它会开始注释</li>
<li>注释继续到行尾</li>
<li>Lisp 阅读器会丢弃注释； 它们不会成为 Lisp 对象的一部分，这些对象代表 Lisp 系统中的程序</li>
</ul>

<p>
<span class="underline">'#@count' 结构</span> 会跳过下一个 count 字符，
</p>

<pre class="example" id="orgc5d13d6">
这对于程序生成的包含二进制数据的注释很有用

Emacs Lisp 字节编译器在其输出文件中使用它（参见字节编译）。但是，它不适用于源文件
</pre>
</div>
</div>

<div id="outline-container-orgab104f1" class="outline-2">
<h2 id="orgab104f1">编程类型</h2>
<div class="outline-text-2" id="text-orgab104f1">
<p>
Emacs Lisp 中的类型一般分为两类：
</p>
<ul class="org-ul">
<li>与 Lisp 编程有关的类型</li>
<li>与编辑有关的类型</li>
</ul>

<pre class="example" id="org7ad3967">
前者以一种或另一种形式存在于许多 Lisp 实现中。后者是 Emacs Lisp 独有的
</pre>
</div>

<div id="outline-container-org16bcda3" class="outline-3">
<h3 id="org16bcda3">整数类型</h3>
<div class="outline-text-3" id="text-org16bcda3">
<p>
在底层，有两种整数：称为 <span class="underline">fixnums</span> 的 <b>小整数</b> 和称为 <span class="underline">bignums</span> 的 <b>大整数</b> ：
</p>
<ul class="org-ul">
<li><p>
fixnum  的值范围取决于机器
</p>
<pre class="example" id="orgea78fe6">
最小范围是 -536,870,912 到 536,870,91 （30 位；即 -2**29 到 2**29 - 1），但许多机器提供的范围更广
</pre></li>
<li>Bignums 可以具有任意精度</li>
</ul>

<pre class="example" id="org573bf84">
溢出 fixnum 的操作将改为返回 bignum
</pre>

<ul class="org-ul">
<li>所有数字都可以用 <span class="underline">eql</span> 或 <span class="underline">=</span> 进行比较；
<ul class="org-ul">
<li>fixnums 也可以与 <span class="underline">eq</span> 进行比较</li>
</ul></li>
<li>可以在任何对象上使用谓词 <span class="underline">fixnump</span> 和 <span class="underline">bignump</span> 
<ul class="org-ul">
<li>要测试一个整数是 fixnum 还是 bignu ，可以将其与 <span class="underline">most-negative-fixnum</span> 和 <span class="underline">most-positive-fixnum</span> 进行比较</li>
</ul></li>
</ul>
</div>

<div id="outline-container-org65d7fdb" class="outline-4">
<h4 id="org65d7fdb">读取语法</h4>
<div class="outline-text-4" id="text-org65d7fdb">
<p>
整数的读取语法是一个（以十为基数）数字序列：
</p>
<ul class="org-ul">
<li>开头有一个可选的正负符号</li>
<li>结尾有一个可选的句点</li>
</ul>


<p>
Lisp 解释器生成的打印表示从不具有前导 + 或结尾 .
</p>
<div class="org-src-container">
<pre class="src src-lisp">-1               <span style="color: #ff4500;">; The integer -1.</span>
1                <span style="color: #ff4500;">; The integer 1.</span>
1.               <span style="color: #ff4500;">; Also the integer 1.</span>
+1               <span style="color: #ff4500;">; Also the integer 1.</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1545a98" class="outline-3">
<h3 id="org1545a98">浮点型</h3>
<div class="outline-text-3" id="text-org1545a98">
<p>
浮点数是 <b>科学记数法</b> 的计算机等价物； 可以将浮点数视为分数加上 10 的幂：
</p>
<ul class="org-ul">
<li>有效数字的精确数量和可能的指数范围是特定于机器的</li>
<li>Emacs 使用 <span class="underline">C数据类型double</span> 来存储值，在内部它记录的是 <span class="underline">2</span> 的幂，而不是 10 的幂</li>
</ul>

<p>
浮点数的打印表示需要 <span class="underline">一个小数点</span> （后面 <span class="underline">至少有一个数字</span> ），一个 <span class="underline">指数</span> ，或 <b>两者兼而有之</b> 
</p>
<pre class="example" id="orge0a90c2">
例如 '1500.0', '+15e2', '15.0e+2', '+1500000e-3', '.15e4' 是浮点数1500的五种写法，它们都是等价的
</pre>
</div>
</div>

<div id="outline-container-orgcbc2fd1" class="outline-3">
<h3 id="orgcbc2fd1">字符类型</h3>
<div class="outline-text-3" id="text-orgcbc2fd1">
<p>
Emacs Lisp 中的字符只不过是一个 <b>整数</b> 。换句话说，字符由它们的 <span class="underline">字符代码</span> 表示
</p>

<pre class="example" id="org5b18ab1">
例如，字符 A 表示为整数 65
</pre>

<p>
程序中偶尔会使用单个字符，但更常见的是使用 <b>字符串</b> ，它是由 <span class="underline">字符组成的序列</span> ：
</p>
<ul class="org-ul">
<li><p>
字符串和缓冲区中的字符目前限制在 0 到 4194303 的范围内
</p>
<pre class="example" id="orgd557b3b">
22 位整数，参见字符代码
</pre></li>
<li>代码 0 到 127 是 ASCII 代码； 其余的是非 ASCII</li>
<li>代表键盘输入的字符范围更广，可以对修饰键（如 Control 、Meta 和 Shift）进行编码</li>
</ul>

<pre class="example" id="orgcfd4e60">
为了消息的缘故，有一些特殊的函数可以生成人类可读的字符文本描述。请参阅描述帮助消息的字符
</pre>
</div>

<div id="outline-container-org1569156" class="outline-4">
<h4 id="org1569156">基本字符语法</h4>
<div class="outline-text-4" id="text-org1569156">
<p>
由于字符实际上是整数，因此字符的打印表示是十进制数。这也是字符的一种可能的读取语法
</p>

<pre class="example" id="org967446a">
但在 Lisp 程序中以这种方式编写字符并不是清晰的编程

应该始终使用 Emacs Lisp 为字符提供的特殊读取语法格式。这些语法格式以问号开头
</pre>

<p>
字母数字字符的通常 <span class="underline">读取语法</span> 是 <span class="underline">问号后跟字符</span> ； 因此， <span class="underline">?A</span> 表示字符 A， <span class="underline">?B</span> 表示字符 B， <span class="underline">?a</span> 表示字符 a
</p>
<div class="org-src-container">
<pre class="src src-lisp">?Q &#8658; 81     ?q &#8658; 113
</pre>
</div>

<p>
可以对标点字符使用相同的语法。但是，如果标点符号在 Lisp 中具有特殊的句法含义，则必须用 <span class="underline">'\'</span> 将其引用
</p>
<pre class="example" id="orgbb433f1">
例如，'?\(' 是左括号字符的书写方式

同样，如果字符是 '\ ，则必须使用第二个 '\' 来引用它：'?\\'
</pre>

<p>
可以将字符 control 、退格、制表符、换行符、垂直制表符、换页、空格、回车、del 和转义表示为 <span class="underline">?\a</span> ,  <span class="underline">?\b</span> , <span class="underline">?\t</span> , <span class="underline">?\n</span> , <span class="underline">?\v</span>, <span class="underline">?\f</span> . <span class="underline">?\s</span> , <span class="underline">?\r</span> , <span class="underline">?\d</span> 和 <span class="underline">?\e</span>
</p>

<div class="org-src-container">
<pre class="src src-lisp">?\a &#8658; 7                 <span style="color: #ff4500;">; control-g, C-g</span>
?\b &#8658; 8                 <span style="color: #ff4500;">; backspace, BS, C-h</span>
?\t &#8658; 9                 <span style="color: #ff4500;">; tab, TAB, C-i</span>
?\n &#8658; 10                <span style="color: #ff4500;">; newline, C-j</span>
?\v &#8658; 11                <span style="color: #ff4500;">; vertical tab, C-k</span>
?\f &#8658; 12                <span style="color: #ff4500;">; formfeed character, C-l</span>
?\r &#8658; 13                <span style="color: #ff4500;">; carriage return, RET, C-m</span>
?\e &#8658; 27                <span style="color: #ff4500;">; escape character, ESC, C-[</span>
?\s &#8658; 32                <span style="color: #ff4500;">; space character, SPC</span>
?\\ &#8658; 92                <span style="color: #ff4500;">; backslash character, \</span>
?\d &#8658; 127               <span style="color: #ff4500;">; delete character, DEL</span>
</pre>
</div>

<pre class="example" id="org66312be">
注意：'?\s' 后跟一个破折号有不同的含义，它将 Super 修饰符应用于后面的字符
</pre>

<p>
这些以反斜杠开头的序列也称为 <b>转义序列</b> ，因为反斜杠扮演转义字符的角色：
</p>
<ul class="org-ul">
<li><p>
这与字符 ESC 无关
</p>
<pre class="example" id="org0dfe0f2">
'\s' 用于字符常量； 在字符串常量中，只写空格
</pre></li>
<li>在没有特殊转义含义的任何字符之前允许使用反斜杠，并且无害； 因此，'<span class="underline">?\+</span>' 等价于 '<span class="underline">?+</span>'</li>
<li>没有理由在大多数字符之前添加反斜杠。但是，必须在任何字符 '<sub>()</sub>[]\;"_ ' 之前添加反斜杠，并且应该在任何字符 '<span class="underline">|'`#.,</span>' 之前添加反斜杠，以避免混淆用于编辑 Lisp 的 Emacs 命令代码</li>
<li>还应该在类似于前面提到的 ASCII 字符的 Unicode 字符之前添加反斜杠，以避免混淆阅读您的代码的人</li>
</ul>

<pre class="example" id="org565b9d0">
Emacs 将突出显示一些非转义的常见混淆字符，例如 ''' 以鼓励这一点

还可以添加在空格字符（例如空格、制表符、换行符和换页符）之前的反斜杠

但是，使用易于阅读的转义序列之一（例如 '\t' 或 '\s'）而不是实际的空格字符（例如一个制表符或一个空格）

如果你写反斜杠后跟一个空格，你应该在字符常量后面写一个额外的空格来将它与下面的文本分开
</pre>
</div>
</div>

<div id="outline-container-orga7e53ff" class="outline-4">
<h4 id="orga7e53ff">通用转义语法</h4>
<div class="outline-text-4" id="text-orga7e53ff">
<p>
除了特殊重要控制字符的特定转义序列之外，Emacs 还提供了几种类型的转义语法，可以使用它们来指定 <span class="underline">非 ASCII 文本字符</span> ：
</p>
<ul class="org-ul">
<li><p>
通过其 <b>Unicode 名称</b> 指定字符（如果有）： <span class="underline">?\N{NAME}</span> 表示名为 NAME 的 Unicode 字符
</p>
<pre class="example" id="orgc50dd45">
'?\N{LATIN SMALL LETTER A WITH GRAVE}' 等价于 ?à 并表示 Unicode 字符 U+00E0

为了简化输入多行字符串，还可以将名称中的空格替换为非空的空白序列（例如，换行符）
</pre></li>
<li><p>
通过其 <b>Unicode 值</b> 指定字符： <span class="underline">?\N{U+X}</span> 表示具有 Unicode 代码点 X 的字符，其中 X 是十六进制数。此外， <span class="underline">?\uxxxx</span> 和 <span class="underline">?\Uxxxxxxxx</span> 分别表示代码点 xxxx 和 xxxxxxx ，其中每个 x 是单个十六进制数字
</p>
<pre class="example" id="org10ea021">
例如，?\N{U+E0}、?\u00e0 和 ?\U000000E0 都等价于 à 和 '?\N{LATIN SMALL LETTER A WITH GRAVE}

Unicode 标准仅定义代码点至 'U+10ffff ，因此如果指定的代码点高于此，Emacs 会发出错误信号
</pre></li>
<li><p>
通过 <b>十六进制字符代码</b> 指定字符：十六进制转义序列由 <span class="underline">反斜杠</span> 、 <span class="underline">x</span> 和 <span class="underline">十六进制字符代码</span> 组成
</p>
<pre class="example" id="org3d92b4e">
因此，'?\x41' 是字符A，'?\x1' 是字符 C-a ，而 ?\xe0 是字符 à（带有重音的 a）

可以使用任意数量的十六进制数字，因此可以用这种方式表示任何字符代码
</pre></li>
<li><p>
通过 <b>八进制字符代码</b> 指定字符：一个八进制转义序列由 <span class="underline">一个反斜杠</span> 后跟 <b>最多三个</b> <span class="underline">八进制数字</span> 组成
</p>
<pre class="example" id="orgf217d5f">
因此，字符 A 为 ?\101 ，字符 C-a 为 ?\001 ，字符 C-b 为 ?\002

但只能以这种方式指定八进制代码 777 以内的字符
</pre></li>
</ul>

<pre class="example" id="orgb39b0af">
这些转义序列也可以用在字符串中
</pre>
</div>
</div>
<div id="outline-container-org2df9030" class="outline-4">
<h4 id="org2df9030">控制字符语法</h4>
<div class="outline-text-4" id="text-org2df9030">
<p>
可以使用另一种读取语法来表示 <b>控制字符</b> 。这由 <span class="underline">一个问号</span> 后跟一个 <span class="underline">反斜杠</span> 、 <span class="underline">插入符号</span> 和 <span class="underline">相应的非控制字符</span> 组成，无论是大写还是小写
</p>

<pre class="example" id="org4d18559">
例如，'?\^I' 和 '?\^i' 都是字符 C-i 的有效读取语法，该字符的值为 9

也可以使用 'C-' 代替 '^' ， 因此，'?\C-i' 等价于 '?\^I' 和 '?\^i' 
</pre>

<div class="org-src-container">
<pre class="src src-lisp">?\^I &#8658; 9     ?\C-I &#8658; 9
</pre>
</div>

<p>
在字符串和缓冲区中，唯一允许的控制字符是那些存在于 ASCII 中的字符； 但出于键盘输入目的，可以使用 <span class="underline">C-</span> 将任何字符转换为控制字符
</p>

<pre class="example" id="orgbf9df7e">
这些非 ASCII 控制字符的字符代码包括 2**26 位以及对应的非控制字符的代码

并非所有文本终端都可以生成非 ASCII 控制字符，但使用 X 和其他窗口系统可以直接生成它们
</pre>

<p>
由于历史原因，Emacs 将  <span class="underline">DEL</span> 字符视为 <span class="underline">?</span> 的控制等价物：
</p>

<div class="org-src-container">
<pre class="src src-lisp">?\^? &#8658; 127     ?\C-? &#8658; 127
</pre>
</div>

<pre class="example" id="org3d07284">
因此，目前无法使用'\C-'来表示字符 Control- ，它是 X 下有意义的输入字符。改变这一点并不容易，因为各种 Lisp 文件都以这种方式引用 DEL


为了表示要在文件或字符串中找到的控制字符，推荐使用 '^' 语法

对于键盘输入中的控制字符，我们更喜欢 C- 语法

你用哪一个不影响程序的意思，但可能会指导阅读它的人的理解
</pre>
</div>
</div>
<div id="outline-container-orgca7ddda" class="outline-4">
<h4 id="orgca7ddda">元字符语法</h4>
<div class="outline-text-4" id="text-orgca7ddda">
<p>
<b>元字符</b> 是使用 <span class="underline">META 修饰键</span> 键入的字符。表示此类字符的整数设置了 2**27 位。为此修饰符和其他修饰符使用高位，以使广泛的基本字符代码成为可能
</p>

<pre class="example" id="org04d2e51">
在字符串中，附加在 ASCII 字符上的 2**7 位表示元字符

因此，可以放入字符串中的元字符的编码范围从 _128_ 到 _255_  ，并且是普通 ASCII 字符的元版本

有关字符串中 META 处理的详细信息，请参阅将键盘事件放入字符串中

</pre>

<p>
元字符的读取语法使用 <span class="underline">\M-</span> ：
</p>

<pre class="example" id="org2e37fae">
例如， '?\M-A' 代表 M-A
</pre>

<p>
可以将 <span class="underline">\M-</span> 与八进制字符代码、 <span class="underline">\C-</span>  或任何其他字符语法一起使用
</p>
<pre class="example" id="org755d6a2">
将 M-A 写为 '?\M-A' 或 '?\M-\101'

同样，可以将 C-M-b 写为 '?\M-\C-b 、'?\C-\M-b' 或 '?\M-\002'
</pre>
</div>
</div>
<div id="outline-container-orga02cfd4" class="outline-4">
<h4 id="orga02cfd4">其他字符修饰符位</h4>
<div class="outline-text-4" id="text-orga02cfd4">
<p>
<span class="underline">图形字符的大小写</span> 由其 <b>字符代码</b> 表示
</p>

<pre class="example" id="org9016ba4">
例如， ASCII 区分字符 a 和 A 。但是 ASCII 无法表示控制字符是大写还是小写
</pre>

<p>
Emacs 使用 <span class="underline">2**25</span> 位来指示在键入控制字符时使用了 shift 键
</p>

<pre class="example" id="orgdd68f2f">
这种区别只有在图形显示上才有可能，例如 X 上的 GUI 显示，而文本终端不报告区别
</pre>

<p>
Shift位的 Lisp 语法是 \ S-  ； 因此 ?\C-\ S-o  或  ?\C-\ S-O 表示 shift-control-o 字符
</p>

<p>
X Window 系统定义了另外三个可以在字符中设置的修饰符位：hyper , super 和 alt 。这些位的语法是 <span class="underline">\H-</span> , <span class="underline">\s-</span> 和 <span class="underline">\A-</span> 
</p>
<pre class="example" id="org923047c">
在这些前缀中大小写很重要。因此，'?\H-\M-\A-x' 代表 Alt-Hyper-Meta-x

从数值上看，位值是 2**22 用于 alt，2**23 用于 super，2**24 用于 hyper
</pre>
</div>
</div>
</div>
<div id="outline-container-org3f490e2" class="outline-3">
<h3 id="org3f490e2">符号类型</h3>
<div class="outline-text-3" id="text-org3f490e2">
<p>
GNU Emacs Lisp 中的 <b>符号</b> 是一个 <span class="underline">有名字的对象</span> 。 <span class="underline">符号名称</span> 用作符号的 <span class="underline">打印表示</span> 。在普通的 Lisp 使用中，通过使用一个 <span class="underline">obarray</span> ，一个符号的名称是 <b>唯一</b> 的
</p>
<pre class="example" id="org2ead17c">
没有两个符号具有相同的名称
</pre>

<p>
符号可以用作 <span class="underline">变量</span> 、 <span class="underline">函数名</span> 或 <span class="underline">保存属性列表</span> 。或者它可能仅用于与所有其他 Lisp 对象不同，以便可以可靠地识别它在数据结构中的存在
</p>

<pre class="example" id="org678ba19">
在给定的上下文中，通常只打算使用这些用途中的一种，但是可以独立地以所有这些方式使用一个符号
</pre>

<p>
名称以冒号 ( <span class="underline">:</span> ) 开头的符号称为 <b>关键字符号</b> 。这些符号自动充当常量，通常仅通过将未知符号与一些特定替代符号进行比较来使用
</p>

<p>
符号名称可以包含任何字符。大多数符号名称由 <span class="underline">字母</span> 、 <span class="underline">数字</span> 和 <span class="underline">标点符号</span> 以及  <span class="underline">-+=*/</span> 组成
</p>
<ul class="org-ul">
<li><p>
这样的名称不需要特殊的标点； 只要名称看起来不像数字，名称的字符就足够了
</p>
<pre class="example" id="org64b2e96">
如果是，请在名称的开头写一个 \ 以强制解释为符号
</pre></li>
<li>字符 _!@$%^&amp;:&lt;&gt;{}?~ 很少使用，但也不需要特殊的标点符号</li>
<li>任何其他字符都可以包含在符号名称中，方法是使用 <span class="underline">反斜杠</span> 对其进行转义
<ul class="org-ul">
<li><p>
然而，与它在字符串中的使用相反，符号名称中的反斜杠只是简单地引用反斜杠后面的单个字符
</p>
<pre class="example" id="orgc6dc78d">
例如，在字符串中， '\t' 代表制表符； 然而，在符号名称中， '\t' 仅仅引用了字母 't'

要使名称中包含制表符的符号，您必须实际使用制表符（前面带有反斜杠），但很少有做这样的事情
</pre></li>
</ul></li>
</ul>

<pre class="example" id="org2f0b75f">
Common Lisp 注意：在 Common Lisp 中，小写字母总是折叠成大写字母，除非它们被明确转义

在 Emacs Lisp 中，大写和小写字母是不同的
</pre>

<p>
以下是符号名称的几个示例：
</p>
<div class="org-src-container">
<pre class="src src-lisp">foo                 <span style="color: #ff4500;">; A symbol named &#8216;</span><span style="color: #7fffd4;">foo</span><span style="color: #ff4500;">&#8217;.</span>
FOO                 <span style="color: #ff4500;">; A symbol named &#8216;</span><span style="color: #7fffd4;">FOO</span><span style="color: #ff4500;">&#8217;, different from &#8216;</span><span style="color: #7fffd4;">foo</span><span style="color: #ff4500;">&#8217;.</span>

1+                  <span style="color: #ff4500;">; A symbol named &#8216;</span><span style="color: #7fffd4;">1+</span><span style="color: #ff4500;">&#8217;</span>
                                        <span style="color: #ff4500;">;   (not &#8216;</span><span style="color: #7fffd4;">+1</span><span style="color: #ff4500;">&#8217;, which is an integer).</span>

\+1                 <span style="color: #ff4500;">; A symbol named &#8216;</span><span style="color: #7fffd4;">+1</span><span style="color: #ff4500;">&#8217;</span>
                                        <span style="color: #ff4500;">;   (not a very readable name).</span>

\<span style="color: #696969;">(</span>*\ 1\ 2\<span style="color: #696969;">)</span>         <span style="color: #ff4500;">; A symbol named &#8216;(* 1 2)&#8217; (a worse name).</span>
+-*/_~!@$%^&amp;=:&lt;&gt;<span style="color: #696969;">{}</span>  <span style="color: #ff4500;">; A symbol named &#8216;</span><span style="color: #7fffd4;">+-*/_~!@$%^&amp;=:&lt;&gt;{}</span><span style="color: #ff4500;">&#8217;.</span>
                                        <span style="color: #ff4500;">;   These characters need not be escaped.</span>
</pre>
</div>

<pre class="example" id="org1f0000a">
请注意，第四个示例中的 + 被转义以防止它被读取为数字

在第六个示例中这不是必需的，因为名称的其余部分使其作为数字无效
</pre>

<p>
符号名称作为其打印表示的规则的一些例外：
</p>
<ul class="org-ul">
<li><span class="underline">##</span> 是名称为 <span class="underline">空字符串的内部符号</span> 的打印表示</li>
<li><span class="underline">#:foo</span> 是名称为 <span class="underline">foo 的非内部符号</span> 的打印表示</li>
</ul>
</div>
</div>
<div id="outline-container-org2746e87" class="outline-3">
<h3 id="org2746e87">序列类型</h3>
</div>
</div>
</div>
<div id="postamble" class="status">

		  <br/>
		  <div class='ds-thread'></div>
		  <script>
		  var duoshuoQuery = {short_name:'klose911'};
		  (function() {
					  var dsThread = document.getElementsByClassName('ds-thread')[0];
					  dsThread.setAttribute('data-thread-key', document.title);
					  dsThread.setAttribute('data-title', document.title);
					  dsThread.setAttribute('data-url', window.location.href);
					  var ds = document.createElement('script');
					  ds.type = 'text/javascript';ds.async = true;
					  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
					  ds.charset = 'UTF-8';
					  (document.getElementsByTagName('head')[0] 
						|| document.getElementsByTagName('body')[0]).appendChild(ds);
					  })();
		  </script>
		  <script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		  ga('create', 'UA-90850421-1', 'auto');
		  ga('send', 'pageview');
		  </script>
</div>
</body>
</html>
