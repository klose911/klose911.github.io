<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>1 简介</title>
<meta name="author" content="Wu, Shanliang" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="css/main.css" />
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="manual.html"> UP </a>
 |
 <a accesskey="H" href="manual.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">1 简介</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org03d7baf">Lisp 历史</a></li>
<li><a href="#orgfe37830">约定</a>
<ul>
<li><a href="#org9b30c7e">条款</a></li>
<li><a href="#org5efa2d2">nil和 t</a>
<ul>
<li><a href="#orge1ab942">booleanp 函数</a></li>
</ul>
</li>
<li><a href="#orgb633535">评估符号</a></li>
<li><a href="#orgf7aeb07">打印符号</a></li>
<li><a href="#org042b21d">错误信息</a></li>
<li><a href="#orga329164">缓冲区文本符号</a></li>
<li><a href="#org1590915">说明格式</a>
<ul>
<li><a href="#orgcb8fe3f">示例函数描述</a></li>
<li><a href="#org5abd3bd">示例变量描述</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org44f1179">版本信息</a>
<ul>
<li><a href="#org158551d">Command: emacs-version &amp;optional here</a></li>
<li><a href="#org2909f2a">Variable: emacs-build-time</a></li>
<li><a href="#org45b4341">Variable: emacs-version</a></li>
<li><a href="#orgfd76532">Variable: emacs-major-version</a></li>
<li><a href="#orgdf86512">Variable: emacs-minor-version</a></li>
<li><a href="#org0f0b832">Variable: emacs-build-number</a></li>
<li><a href="#org98cbbfa">Variable: emacs-repository-version</a></li>
<li><a href="#orgb167f59">Variable: emacs-repository-branch</a></li>
</ul>
</li>
<li><a href="#orga7cc53a">致谢</a></li>
</ul>
</div>
</div>
<div id="outline-container-org03d7baf" class="outline-2">
<h2 id="org03d7baf">Lisp 历史</h2>
<div class="outline-text-2" id="text-org03d7baf">
<p>
Lisp（列表处理语言）最早于20世纪50年代末在麻省理工学院人工智能研究所开发
</p>

<pre class="example" id="orgeae697c">
Lisp语言强大的功能使其非常适合用于其他用途，例如编写编辑命令
</pre>

<p>
多年来已经构建了数十个Lisp实现，每个都有自己的特性。他们中的许多人都受到了Maclisp的启发，该书于20世纪60年代在麻省理工学院的MAC项目中写成。最终，Maclisp后代的实现者走到了一起，为Lisp系统开发了一个标准，称为Common Lisp。与此同时，麻省理工学院的格里·苏斯曼（GerrySussman）和盖伊·斯蒂尔（GuySteele）开发了一种简化但功能强大的Lisp方言，名为Scheme
</p>

<p>
GNU Emacs Lisp主要受Maclisp的启发，也有一点受Common Lisp的启发
</p>

<pre class="example" id="org2f25f16">
如果您了解Common Lisp，您将注意到许多相似之处。然而，为了减少GNU Emacs的内存需求，Common Lisp的许多特性被省略或简化

有时，简化是如此剧烈，以至于Common Lisp用户可能会感到非常困惑

我们偶尔会指出GNU Emacs Lisp与Common Lisp的区别。如果你不懂Common Lisp，不要担心它；本手册是独立的
</pre>

<p>
通过 <span class="underline">cl-lib</span> 库可以获得一定数量的Common Lisp仿真。请参见Common Lisp扩展中的概述
</p>

<pre class="example" id="orgb893705">
Emacs Lisp完全不受Scheme的影响；但是GNU项目有一个方案的实现，叫做 Guile 。我们在所有要求可扩展性的新GNU软件中使用它
</pre>
</div>
</div>
<div id="outline-container-orgfe37830" class="outline-2">
<h2 id="orgfe37830">约定</h2>
<div class="outline-text-2" id="text-orgfe37830">
</div>
<div id="outline-container-org9b30c7e" class="outline-3">
<h3 id="org9b30c7e">条款</h3>
<div class="outline-text-3" id="text-org9b30c7e">
<p>
在本手册中
</p>
<ul class="org-ul">
<li><p>
短语 <span class="underline">Lisp reader</span> 和 <span class="underline">Lisp printer</span> 指的是 Lisp 中将 Lisp 对象的文本表示形式转换为实际 Lisp 对象的那些例程，反之亦然
</p>
<pre class="example" id="org64b22ab">
有关详细信息，请参阅打印表示和读取语法
</pre></li>
<li>你，阅读本手册的人，被认为是 程序员，被称为 <span class="underline">你</span></li>
<li>用户是使用 Lisp 程序的人，包括您编写的程序</li>
</ul>

<p>
Lisp <span class="underline">代码示例</span> 的格式如下：
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>list 1 2 3<span style="color: #696969;">)</span>
</pre>
</div>

<p>
代表元句法 <span class="underline">变量的名称</span> ，或所描述 <span class="underline">函数的参数</span> ，格式如下：
</p>
<div class="org-src-container">
<pre class="src src-lisp">first-number 
</pre>
</div>
</div>
</div>
<div id="outline-container-org5efa2d2" class="outline-3">
<h3 id="org5efa2d2">nil和 t</h3>
<div class="outline-text-3" id="text-org5efa2d2">
<p>
在 Emacs Lisp 中，符号 nil 具有三种不同的含义：
</p>
<ol class="org-ol">
<li>它是一个名称为 <span class="underline">nil</span> 的 <b>符号</b></li>
<li>是 <b>逻辑真值</b> <span class="underline">假</span></li>
<li>它是一个 <b>空列表</b>  <span class="underline">零元素的列表</span></li>
</ol>

<pre class="example" id="orga28595c">
当用作变量时， nil 始终具有 nil 值
</pre>

<p>
就 Lisp 阅读器而言， <span class="underline">()</span> 和 <span class="underline">nil</span> 是相同的：它们代表同一个对象， <b>符号 nil</b> 
</p>

<pre class="example" id="orgbc7bdd2">
书写符号的不同方式完全适用于人类读者。在 Lisp 阅读器读取 () 或 nil 之后，无法确定程序员实际编写的表示形式
</pre>

<p>
在本手册中：
</p>
<ul class="org-ul">
<li>当我们想强调它表示空列表时，我们写 ()</li>
<li>当我们想强调它表示真值 false 时，我们写 nil</li>
</ul>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>cons 'foo <span style="color: #696969;">())</span>                <span style="color: #ff4500;">; Emphasize the empty list</span>
<span style="color: #696969;">(</span>setq foo-flag nil<span style="color: #696969;">)</span>           <span style="color: #ff4500;">; Emphasize the truth value false</span>
</pre>
</div>

<pre class="example" id="org5a70808">
这也是在 Lisp 程序中使用的一个很好的约定
</pre>

<p>
在期望真值的情况下， <span class="underline">任何非零值</span> 都被认为是 <span class="underline">真值</span> 。但是， <span class="underline">t</span> 是表示 <b>真值 true 的首选方式</b> 。当你需要选择一个代表真实的值，并且没有其他选择依据时，使用 t 。符号 t 始终具有值 t  
</p>

<pre class="example" id="org66139f2">
在 Emacs Lisp 中， nil 和 t 是特殊符号，它们总是对自己求值

这样您就不需要引用它们来将它们用作程序中的常量

尝试更改它们的值会导致设置常量错误。请参阅永不改变的变量
</pre>
</div>

<div id="outline-container-orge1ab942" class="outline-4">
<h4 id="orge1ab942">booleanp 函数</h4>
<div class="outline-text-4" id="text-orge1ab942">
<div class="org-src-container">
<pre class="src src-lisp">Function: booleanp object
</pre>
</div>

<p>
如果 object 是两个规范布尔值 t 或 nil 之一，则返回非 nil  
</p>
</div>
</div>
</div>

<div id="outline-container-orgb633535" class="outline-3">
<h3 id="orgb633535">评估符号</h3>
<div class="outline-text-3" id="text-orgb633535">
<p>
您可以评估的 <span class="underline">Lisp 表达式</span> 称为 <b>形式</b>   <span class="underline">form</span>  。计算一个 形式 ( form ) 总是会产生一个 <b>结果</b> ，它是一个 <span class="underline">Lisp 对象</span> 。在本手册的示例中，这用 <span class="underline">⇒</span> 表示：
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>car '<span style="color: #696969;">(</span>1 2<span style="color: #696969;">))</span>
&#8658; 1
</pre>
</div>

<pre class="example" id="orgcf13d9a">
您可以将其解读为 (car '(1 2)) 计算结果为 1
</pre>

<p>
当一个 形式 ( form ) 是一个 <span class="underline">宏调用</span> 时，它会 <b>扩展</b> 为一个 <span class="underline">新的 形式 ( form )</span> 供 Lisp 计算。我们用 <span class="underline">→</span> 显示扩展的结果。我们可能会或可能不会显示扩展 形式 ( form ) 的评估结果
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>third '<span style="color: #696969;">(</span>a b c<span style="color: #696969;">))</span>
&#8594; <span style="color: #696969;">(</span>car <span style="color: #696969;">(</span>cdr <span style="color: #696969;">(</span>cdr '<span style="color: #696969;">(</span>a b c<span style="color: #696969;">))))</span>
&#8658; c
</pre>
</div>

<p>
为了帮助描述一种 形式 ( form ) ，我们有时会展示另一种产生相同结果的 形式 ( form ) 。两种 形式 ( form ) 的 <span class="underline">精确等价</span> 用 <span class="underline">≡</span> 表示
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>make-sparse-keymap<span style="color: #696969;">)</span> &#8801; <span style="color: #696969;">(</span>list 'keymap<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7aeb07" class="outline-3">
<h3 id="orgf7aeb07">打印符号</h3>
<div class="outline-text-3" id="text-orgf7aeb07">
<p>
本手册中的许多示例在评估时都会打印文本
</p>

<pre class="example" id="org8fc1bf5">
如果您通过在示例的右括号后键入 C-j 在 Lisp 交互缓冲区（例如缓冲区 *scratch*）中执行示例代码，则打印的文本将插入到缓冲区中

如果您通过其他方式执行示例（例如通过评估函数 eval-region ），则打印的文本将显示在回显区域中
</pre>

<p>
本手册中的示例用 <span class="underline">-|</span> 表示打印文本，无论该文本位于何处。通过评估表单返回的值在单独的行后面加上 <span class="underline">⇒</span>
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span> <span style="color: #696969;">(</span>prin1 'foo<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>princ <span style="color: #ffa07a;">"\n"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>prin1 'bar<span style="color: #696969;">))</span>
-| foo
-| bar
&#8658; bar
</pre>
</div>
</div>
</div>
<div id="outline-container-org042b21d" class="outline-3">
<h3 id="org042b21d">错误信息</h3>
<div class="outline-text-3" id="text-org042b21d">
<p>
一些示例表明错误。这通常会在 <span class="underline">回显区域</span> 中显示错误消息。我们在以 <span class="underline">error→</span> 开头的行上显示错误消息
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>+ 23 'x<span style="color: #696969;">)</span>
error&#8594; Wrong type argument: number-or-marker-p, x
</pre>
</div>

<pre class="example" id="org5a91b45">
请注意， error→ 本身不会出现在回显区域中
</pre>
</div>
</div>
<div id="outline-container-orga329164" class="outline-3">
<h3 id="orga329164">缓冲区文本符号</h3>
<div class="outline-text-3" id="text-orga329164">
<p>
一些示例通过显示文本的前后版本来描述对缓冲区内容的修改。这些示例显示了 <span class="underline">包含缓冲区名称的两行破折号之间</span> 的缓冲区内容。此外，  <span class="underline">*</span> 表示点的位置
</p>

<div class="org-src-container">
<pre class="src src-lisp">---------- Buffer: foo ----------
This is the &#8727;contents of foo.
---------- Buffer: foo ----------

<span style="color: #696969;">(</span>insert <span style="color: #ffa07a;">"changed "</span><span style="color: #696969;">)</span>
&#8658; nil
---------- Buffer: foo ----------
This is the changed &#8727;contents of foo.
---------- Buffer: foo ----------
</pre>
</div>

<pre class="example" id="org9d1046e">
当然，点的符号不是缓冲区中文本的一部分；它表示点当前所在的两个字符之间的位置
</pre>
</div>
</div>
<div id="outline-container-org1590915" class="outline-3">
<h3 id="org1590915">说明格式</h3>
<div class="outline-text-3" id="text-org1590915">
<p>
本手册以统一的格式描述了 <span class="underline">函数</span> 、 <span class="underline">变量</span> 、 <span class="underline">宏</span> 、 <span class="underline">命令</span> 、 <span class="underline">用户选项</span> 和 <span class="underline">特殊形式</span> ：
</p>
<ul class="org-ul">
<li>描述的第一行包含 <span class="underline">项目的名称</span> ，后跟其 <span class="underline">参数</span> （如果有）</li>
<li>类别（函数、变量或其他）出现在行首</li>
<li>描述在随后的行中</li>
<li>有时带有示例</li>
</ul>
</div>

<div id="outline-container-orgcb8fe3f" class="outline-4">
<h4 id="orgcb8fe3f">示例函数描述</h4>
<div class="outline-text-4" id="text-orgcb8fe3f">
<p>
在函数描述中，被描述函数的名称首先出现。它在同一行后面是参数名称列表。这些名称也用于描述的主体，代表参数的值
</p>

<p>
参数列表中关键字 <span class="underline">&amp;optional</span> 的出现表明 <b>后面的参数可以省略</b>
</p>
<pre class="example" id="org859438f">
省略的参数默认为 nil 。调用函数时不要写 &amp;optional 
</pre>

<p>
关键字 <span class="underline">&amp;rest</span> （后面必须跟一个参数名）表示后面可以跟 <b>任意数量的参数</b> 。 <span class="underline">&amp;rest 后面的单个参数名称</span> 作为其值 <b>接收</b> <span class="underline">传递给函数的所有剩余参数的列表</span> 
</p>

<pre class="example" id="org026409a">
调用函数时不要写 &amp;rest 
</pre>

<p>
下面是一个虚构函数 foo 的描述：
</p>

<pre class="example" id="orgc2dc171">
Function: foo integer1 &amp;optional integer2 &amp;rest integers
</pre>

<p>
函数 foo 从 integer2 中减去 integer1 ，然后将所有其余参数添加到结果中。如果未提供 integer2 ，则默认使用数字 19
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>foo 1 5 3 9<span style="color: #696969;">)</span>
&#8658; 16
<span style="color: #696969;">(</span>foo 5<span style="color: #696969;">)</span>
&#8658; 14
</pre>
</div>

<p>
更普遍，
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>foo w x y&#8230;<span style="color: #696969;">)</span>
&#8801;
<span style="color: #696969;">(</span>+ <span style="color: #696969;">(</span>- x w<span style="color: #696969;">)</span> y&#8230;<span style="color: #696969;">)</span>
</pre>
</div>

<p>
按照惯例：
</p>
<ul class="org-ul">
<li>任何名称包含类型名称（例如，整数、整数 1 或缓冲区）的参数都应属于该类型</li>
<li>一个类型（例如缓冲区）的复数通常表示该类型的对象列表</li>
<li><p>
名为 object 的参数可以是任何类型
</p>
<pre class="example" id="orge2fcf13">
有关 Emacs 对象类型的列表，请参阅 Lisp 数据类型
</pre></li>
<li>具有任何其他名称（例如，新文件）的参数是特定于函数的</li>
<li>如果函数有文档字符串，则应在此处描述参数的类型</li>
</ul>

<pre class="example" id="orga190a05">
有关 &amp;optional 和 &amp;rest 修改的参数的更完整描述，请参阅 Lambda 表达式
</pre>

<p>
<span class="underline">命令</span> 、 <span class="underline">宏</span> 和 <span class="underline">特殊形式的描述</span> 具有相同的格式，但 <b>函数</b> 一词分别被 <span class="underline">命令</span> 、 <span class="underline">宏</span> 或 <span class="underline">特殊形式</span> 取代：
</p>
<ul class="org-ul">
<li>命令只是可以交互调用的简单函数</li>
<li>宏处理它们的参数与函数不同（不评估参数），但以相同的方式呈现</li>
</ul>

<p>
宏和特殊形式的描述使用更复杂的符号来指定可选和重复参数，因为它们可以以更复杂的方式将参数列表分解为单独的参数：
</p>
<ul class="org-ul">
<li><span class="underline">'[optional-arg]'</span> 表示 optional-arg 是 <b>可选</b> 的</li>
<li><span class="underline">'repeated-args…'</span> 代表 <b>零个或多个参数</b></li>
<li>当 <b>多个参数被分组到列表结构的其他级别</b> 时，使用 <span class="underline">括号</span></li>
</ul>

<p>
这是一个特殊例子：
</p>
<pre class="example" id="orgd56b08b">
Special Form: count-loop (var [from to [inc]]) body… 
</pre>

<p>
在这种特殊形式中：
</p>
<ul class="org-ul">
<li>参数 from 和 to 是可选的，但必须同时存在或不存在
<ul class="org-ul">
<li>如果它们存在，也可以选择指定 inc</li>
<li>这些参数与参数 var 一起分组到一个列表中，以将它们与 body 区分开来</li>
</ul></li>
<li>body 包括表单的所有剩余元素</li>
</ul>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>count-loop <span style="color: #696969;">(</span>i 0 10<span style="color: #696969;">)</span>
            <span style="color: #696969;">(</span>prin1 i<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>princ <span style="color: #ffa07a;">" "</span><span style="color: #696969;">)</span>
            <span style="color: #696969;">(</span>prin1 <span style="color: #696969;">(</span>aref vector i<span style="color: #696969;">))</span>
            <span style="color: #696969;">(</span>terpri<span style="color: #696969;">))</span>
</pre>
</div>

<p>
如果 from 和 to 被省略，则 var 在循环开始之前被绑定为 nil ，如果 var 在迭代开始时为非 nil ，则循环退出。这是一个例子：
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>count-loop <span style="color: #696969;">(</span>done<span style="color: #696969;">)</span>
            <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>pending<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>fixit<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>setq done t<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5abd3bd" class="outline-4">
<h4 id="org5abd3bd">示例变量描述</h4>
<div class="outline-text-4" id="text-org5abd3bd">
<p>
<span class="underline">变量</span> 是可以 <b>绑定</b> （或设置）到对象的名称。 <span class="underline">变量绑定的对象</span> 称为 <b>值</b> ；我们也说那个变量持有那个值。尽管几乎所有变量都可以由用户设置，但某些变量是专门存在的，因此用户可以更改它们；这些被称为 <span class="underline">用户选项</span> 。普通变量和用户选项使用类似于 <span class="underline">函数的格式</span> 来描述，除了没有参数。以下是虚构的电动未来图变量的描述：
</p>

<pre class="example" id="orgae34d23">
Variable: electric-future-map

此变量的值是 Electric Command Future 模式使用的完整键盘映射。此地图中的功能允许您编辑尚未考虑执行的命令
</pre>

<p>
用户选项描述具有相同的格式，但 <span class="underline">变量</span> 被 <span class="underline">用户选项</span> 取代
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org44f1179" class="outline-2">
<h2 id="org44f1179">版本信息</h2>
<div class="outline-text-2" id="text-org44f1179">
<p>
这些工具提供有关正在使用的 Emacs 版本的信息：
</p>
</div>
<div id="outline-container-org158551d" class="outline-3">
<h3 id="org158551d">Command: emacs-version &amp;optional here</h3>
<div class="outline-text-3" id="text-org158551d">
<p>
这个函数返回一个描述正在运行的 Emacs 版本的字符串。在错误报告中包含此字符串很有用
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #696969;">(</span>emacs-version<span style="color: #696969;">)</span>
&#8658; <span style="color: #ffa07a;">"GNU Emacs 26.1 (build 1, x86_64-unknown-linux-gnu,</span>
<span style="color: #ffa07a;">             GTK+ Version 3.16) of 2017-06-01"</span>
</pre>
</div>

<p>
如果 here 不是 nil ，则将文本插入缓冲区中的 point 之前，并返回 nil 。当这个函数被交互调用时，它会在回显区域打印相同的信息，但是给出一个前缀参数使得这里非零
</p>
</div>
</div>

<div id="outline-container-org2909f2a" class="outline-3">
<h3 id="org2909f2a">Variable: emacs-build-time</h3>
<div class="outline-text-3" id="text-org2909f2a">
<p>
这个变量的值表示 Emacs 的构建时间。它使用当前时间的样式（参见时间），如果信息不可用，则为 nil
</p>

<div class="org-src-container">
<pre class="src src-lisp">emacs-build-time
&#8658; <span style="color: #696969;">(</span>20614 63694 515336 438000<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org45b4341" class="outline-3">
<h3 id="org45b4341">Variable: emacs-version</h3>
<div class="outline-text-3" id="text-org45b4341">
<p>
这个变量的值是正在运行的 Emacs 的版本。它是一个字符串，例如 26.1 。具有三个数字分量的值，例如 26.0.91 ，表示未发布的测试版本
</p>

<pre class="example" id="orgf8b86cc">
在 Emacs 26.1 之前，字符串包含一个额外的 final 组件，其整数现在存储在 emacs-build-number 中；例如， 25.1.1 
</pre>
</div>
</div>

<div id="outline-container-orgfd76532" class="outline-3">
<h3 id="orgfd76532">Variable: emacs-major-version</h3>
<div class="outline-text-3" id="text-orgfd76532">
<p>
Emacs 的主版本号，以整数表示。对于 Emacs 版本 23.1 ，该值为 23 
</p>
</div>
</div>

<div id="outline-container-orgdf86512" class="outline-3">
<h3 id="orgdf86512">Variable: emacs-minor-version</h3>
<div class="outline-text-3" id="text-orgdf86512">
<p>
Emacs 的次要版本号，为整数。对于 Emacs 版本 23.1 ，该值为 1
</p>
</div>
</div>

<div id="outline-container-org0f0b832" class="outline-3">
<h3 id="org0f0b832">Variable: emacs-build-number</h3>
<div class="outline-text-3" id="text-org0f0b832">
<p>
每次在同一目录中构建 Emacs 时递增的整数（无需清理）。这仅在开发 Emacs 时具有相关性
</p>
</div>
</div>

<div id="outline-container-org98cbbfa" class="outline-3">
<h3 id="org98cbbfa">Variable: emacs-repository-version</h3>
<div class="outline-text-3" id="text-org98cbbfa">
<p>
一个字符串，它给出了构建 Emacs 的代码库版本。如果 Emacs 是在版本控制之外构建的，则该值为 nil 
</p>
</div>
</div>

<div id="outline-container-orgb167f59" class="outline-3">
<h3 id="orgb167f59">Variable: emacs-repository-branch</h3>
<div class="outline-text-3" id="text-orgb167f59">
<p>
一个字符串，它给出了构建 Emacs 的代码库分支。在大多数情况下，这是 <span class="underline">master</span>  。如果 Emacs 是在版本控制之外构建的，则该值为 nil 
</p>
</div>
</div>
</div>

<div id="outline-container-orga7cc53a" class="outline-2">
<h2 id="orga7cc53a">致谢</h2>
<div class="outline-text-2" id="text-orga7cc53a">
<p>
本手册最初由GNU手册小组的志愿者Robert Krawitz、Bil Lewis、Dan LaLiberte、Richard M.Stallman和Chris Welty历时数年编写。在国防高级研究计划局ARPA 6082项目(由计算逻辑公司的Warren A.Hunt Jr负责）的支持下，Robert J.Chassell协助审查和编辑了该手册。此后，Miles Bader、Lars Brinkhoff、Chong Yidong、Kenichi Handa、Lute Kamstra、Juri Linkov、Glenn Morris、Thien Thi Nguyen、Dan Nicolaescu、Martin Rudaliss、，Kim F.Storm、Luc Teirlinck、Eli Zaretskii等人亦有参与。
</p>

<p>
参与更正的人员有Drew Adams、Juanma Barrankero、Karl Berry、Jim Blandy、Bard Bloom、Stephane Boucher、David Boyes、Alan Carroll、Richard Davis、Lawrence R.Dodd、Peter Doornbosch、David A.Duff、Chris Eich、Beverly Erlebacher、David Eckelkamp、Ralf Fassel、Eirik Fuller、Stephen Gildea、Bob Glickstein、Eric Hanchrow、Jesper Harder、George Hartzell、Nathan Hess、Masayuki Ida、，Dan Jacobson、Jak Kirman、Bob Knighten、Frederick M.Korz、Joe Lammens、Glenn M.Lewis、K.Richard Magill、Brian Marick、Roland McGrath、Stefan Monnier、Skip Montanaro、John Gardiner Myers、Thomas A.Peterson、Francesco Potortì、Friedrich Pukelsheim、Arnold D.Robbins、Raul Rockwell、Jason Rumney、Per Starbä、Shinichrou Sugou、Kimmo Suominen、Edward Tharp、Bill Trost、Rickard Westman、，Jean White、Eduard Wiebe、Matthew Wilding、Carl Witty、Dale Worley、Rusty Wright和David D.Zuhn等人。
</p>

<pre class="example" id="orga24f832">
有关贡献者的更完整列表，请参阅Emacs源存储库中的相关更改日志条目
</pre>

<table border="1" cellspacing="0" cellpadding="6" rules="all" frame="boader">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="data_type.html">Next: 数据类型</a></td>
<td class="org-left"><a href="manual.html">Home: Emacs Lisp 手册</a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="postamble" class="status">

		  <br/>
		  <div class='ds-thread'></div>
		  <script>
		  var duoshuoQuery = {short_name:'klose911'};
		  (function() {
					  var dsThread = document.getElementsByClassName('ds-thread')[0];
					  dsThread.setAttribute('data-thread-key', document.title);
					  dsThread.setAttribute('data-title', document.title);
					  dsThread.setAttribute('data-url', window.location.href);
					  var ds = document.createElement('script');
					  ds.type = 'text/javascript';ds.async = true;
					  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
					  ds.charset = 'UTF-8';
					  (document.getElementsByTagName('head')[0] 
						|| document.getElementsByTagName('body')[0]).appendChild(ds);
					  })();
		  </script>
		  <script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		  ga('create', 'UA-90850421-1', 'auto');
		  ga('send', 'pageview');
		  </script>
</div>
</body>
</html>
