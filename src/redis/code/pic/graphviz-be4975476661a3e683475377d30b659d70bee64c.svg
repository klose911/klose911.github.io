<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: push_generic_command Pages: 1 -->
<svg width="385pt" height="396pt"
 viewBox="0.00 0.00 384.88 395.92" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 391.925)">
<title>push_generic_command</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-391.925 380.876,-391.925 380.876,4 -4,4"/>
<!-- pushGenericCommand -->
<g id="node1" class="node"><title>pushGenericCommand</title>
<polygon fill="#a8e270" stroke="none" points="272.776,-387.925 103.486,-387.925 103.486,-351.925 272.776,-351.925 272.776,-387.925"/>
<text text-anchor="middle" x="188.131" y="-366.969" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">pushGenericCommand</text>
</g>
<!-- key_wrong_type_or_not -->
<g id="node2" class="node"><title>key_wrong_type_or_not</title>
<polygon fill="#95bbe3" stroke="black" points="188.131,-314.925 36.0297,-296.925 188.131,-278.925 340.233,-296.925 188.131,-314.925"/>
<text text-anchor="middle" x="188.131" y="-294.179" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">key 非空且不是列表？</text>
</g>
<!-- pushGenericCommand&#45;&gt;key_wrong_type_or_not -->
<g id="edge1" class="edge"><title>pushGenericCommand&#45;&gt;key_wrong_type_or_not</title>
<path fill="none" stroke="black" stroke-width="2" d="M188.131,-351.738C188.131,-343.714 188.131,-333.972 188.131,-324.994"/>
<polygon fill="black" stroke="black" stroke-width="2" points="191.631,-324.953 188.131,-314.953 184.631,-324.953 191.631,-324.953"/>
</g>
<!-- return_wrong_type_error -->
<g id="node3" class="node"><title>return_wrong_type_error</title>
<polygon fill="lightgrey" stroke="none" points="191.131,-223.325 91.1313,-223.325 91.1313,-187.325 191.131,-187.325 191.131,-223.325"/>
<text text-anchor="middle" x="141.131" y="-201.335" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">返回类型错误</text>
</g>
<!-- key_wrong_type_or_not&#45;&gt;return_wrong_type_error -->
<g id="edge2" class="edge"><title>key_wrong_type_or_not&#45;&gt;return_wrong_type_error</title>
<path fill="none" stroke="black" stroke-width="2" d="M179.729,-279.906C172.819,-266.734 162.89,-247.804 154.832,-232.444"/>
<polygon fill="black" stroke="black" stroke-width="2" points="157.846,-230.655 150.101,-223.425 151.647,-233.906 157.846,-230.655"/>
<text text-anchor="middle" x="176.131" y="-249.725" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- key_empty_or_not -->
<g id="node4" class="node"><title>key_empty_or_not</title>
<polygon fill="#95bbe3" stroke="black" points="293.131,-223.325 209.142,-205.325 293.131,-187.325 377.121,-205.325 293.131,-223.325"/>
<text text-anchor="middle" x="293.131" y="-202.579" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">key 为空？</text>
</g>
<!-- key_wrong_type_or_not&#45;&gt;key_empty_or_not -->
<g id="edge3" class="edge"><title>key_wrong_type_or_not&#45;&gt;key_empty_or_not</title>
<path fill="none" stroke="black" stroke-width="2" d="M205.943,-280.725C223.35,-265.872 249.965,-243.16 269.21,-226.737"/>
<polygon fill="black" stroke="black" stroke-width="2" points="271.624,-229.279 276.959,-220.125 267.08,-223.954 271.624,-229.279"/>
<text text-anchor="middle" x="256.131" y="-249.725" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- add_key_to_ready_list_if_need -->
<g id="node5" class="node"><title>add_key_to_ready_list_if_need</title>
<polygon fill="lightgrey" stroke="none" points="312.394,-131.588 -0.131458,-131.588 -0.131458,-73.137 312.394,-73.137 312.394,-131.588"/>
<text text-anchor="middle" x="156.131" y="-116.525" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">如果 key 存在于 server.db[i]&#45;&gt;blocking_keys</text>
<text text-anchor="middle" x="156.131" y="-99.6165" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">那么为 key 创建一个 readyList 结构</text>
<text text-anchor="middle" x="156.131" y="-82.7083" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">并将它添加到 server.ready_keys 链表中</text>
</g>
<!-- key_empty_or_not&#45;&gt;add_key_to_ready_list_if_need -->
<g id="edge4" class="edge"><title>key_empty_or_not&#45;&gt;add_key_to_ready_list_if_need</title>
<path fill="none" stroke="black" stroke-width="2" d="M275.221,-191.126C256.91,-177.631 227.702,-156.106 202.795,-137.751"/>
<polygon fill="black" stroke="black" stroke-width="2" points="204.662,-134.779 194.535,-131.664 200.509,-140.415 204.662,-134.779"/>
<text text-anchor="middle" x="251.131" y="-158.125" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- push_value_to_list -->
<g id="node6" class="node"><title>push_value_to_list</title>
<polygon fill="lightgrey" stroke="none" points="358.131,-36 230.131,-36 230.131,-0 358.131,-0 358.131,-36"/>
<text text-anchor="middle" x="294.131" y="-14.01" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">将输入值推入列表</text>
</g>
<!-- key_empty_or_not&#45;&gt;push_value_to_list -->
<g id="edge5" class="edge"><title>key_empty_or_not&#45;&gt;push_value_to_list</title>
<path fill="none" stroke="black" stroke-width="2" d="M300.978,-188.953C307.843,-174.583 317.299,-152.31 321.131,-131.725 325.908,-106.066 327.128,-98.4017 321.131,-73 318.868,-63.4109 314.626,-53.5831 310.164,-44.9849"/>
<polygon fill="black" stroke="black" stroke-width="2" points="313.216,-43.2707 305.32,-36.2069 307.087,-46.6532 313.216,-43.2707"/>
<text text-anchor="middle" x="332.131" y="-100.962" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- add_key_to_ready_list_if_need&#45;&gt;push_value_to_list -->
<g id="edge6" class="edge"><title>add_key_to_ready_list_if_need&#45;&gt;push_value_to_list</title>
<path fill="none" stroke="black" stroke-width="2" d="M203.623,-73.0179C220.99,-62.6529 240.377,-51.0823 256.739,-41.3171"/>
<polygon fill="black" stroke="black" stroke-width="2" points="258.692,-44.2272 265.485,-36.0968 255.105,-38.2163 258.692,-44.2272"/>
</g>
</g>
</svg>
