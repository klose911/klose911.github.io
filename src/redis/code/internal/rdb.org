#+TITLE: RDB
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/main.css" />
#+HTML_LINK_UP: ./db.html
#+HTML_LINK_HOME: ./internal.html
#+OPTIONS: num:nil timestamp:nil ^:nil

#+begin_example
在运行情况下， Redis 以数据结构的形式将数据维持在内存中
#+end_example

为了让这些数据在 Redis 重启之后仍然可用， Redis 最初提供了 _RDB_ 持久化模式：
+ 在 Redis 运行时， RDB 程序将 _当前内存_ 中的 *数据库快照* 保存到 _磁盘文件_ 中
+ 在 Redis 重启动时， RDB 程序可以通过 *载入* _RDB 文件_ 来 *还原* 数据库的状态

#+ATTR_HTML: image :width 90% 
[[file:../pic/graphviz-cd96bfa5c61ef2b8dd69a9b0a97cde047cb722a8.svg]]
  
RDB 功能最核心的是 _rdbSave_ 和 _rdbLoad_ 两个函数
+ 前者用于 *生成* _RDB 文件_ 到磁盘
+ 后者则用于将 RDB 文件中的数据重新 *载入* 到 _内存_ 中 

#+begin_example
  本章先介绍 SAVE 和 BGSAVE 命令的实现， 以及 rdbSave 和 rdbLoad 两个函数的运行机制

  然后以图表的方式， 分部分来介绍 RDB 文件的组织形式

  因为涉及 RDB 运行的相关机制， 如果还没了解过 RDB 功能的话， 请先阅读 Redis 官网上的 persistence 手册 
#+end_example
* 保存
